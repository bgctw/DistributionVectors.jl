<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Types · DistributionVectors.jl</title><meta name="title" content="Types · DistributionVectors.jl"/><meta property="og:title" content="Types · DistributionVectors.jl"/><meta property="twitter:title" content="Types · DistributionVectors.jl"/><meta name="description" content="Documentation for DistributionVectors.jl."/><meta property="og:description" content="Documentation for DistributionVectors.jl."/><meta property="twitter:description" content="Documentation for DistributionVectors.jl."/><meta property="og:url" content="https://bgctw.github.io/DistributionVectors.jl/distributionvector/"/><meta property="twitter:url" content="https://bgctw.github.io/DistributionVectors.jl/distributionvector/"/><link rel="canonical" href="https://bgctw.github.io/DistributionVectors.jl/distributionvector/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">DistributionVectors.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Types</a><ul class="internal"><li><a class="tocitem" href="#Helpers"><span>Helpers</span></a></li></ul></li><li><a class="tocitem" href="../sumdist/">Aggregation</a></li><li><span class="tocitem">Univariate</span><ul><li><a class="tocitem" href="../univariate/">Overview</a></li><li><a class="tocitem" href="../normal/">Normal</a></li><li><a class="tocitem" href="../lognormal/">LogNormal</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Types</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Types</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/bgctw/DistributionVectors.jl/blob/main/docs/src/distributionvector.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Vector-of-random-variables,-i.e.-distributions"><a class="docs-heading-anchor" href="#Vector-of-random-variables,-i.e.-distributions">Vector of random variables, i.e. distributions</a><a id="Vector-of-random-variables,-i.e.-distributions-1"></a><a class="docs-heading-anchor-permalink" href="#Vector-of-random-variables,-i.e.-distributions" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DistributionVectors.AbstractDistributionVector" href="#DistributionVectors.AbstractDistributionVector"><code>DistributionVectors.AbstractDistributionVector</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractDistributionVector{D &lt;: Distribution}</code></pre><p>Is any type able represent a vector of distribution of the same type. This corresponds to a sequence of random variables, each characterized by the same type of distribution but with different parameters.  This allows aggregating functions to work, for example, computing the distribution of the sum of random variables by  <a href="../sumdist/#Base.sum-Tuple{AbstractDistributionVector}"><code>sum(dv::AbstractDistributionVector)</code></a>.</p><p>It is parametrized by <code>D &lt;: Distribution</code> defining the type of the distribution used for all the random variables.</p><p>Items may be missing. Hence the element type of the iterator is  <code>Union{Missing,D}</code>.</p><p>AbstractDistributionVector</p><ul><li>is iterable</li><li>has length and index access, i.e. <code>dv[i]::D</code></li><li>access to entire parameter vectors: <code>params(dv,Val(i))</code></li><li>conversion to Tuple of Vectors: <code>params(dv)</code></li><li>array of random numbers: <code>rand(n, dv)</code>: adding one  dimension that represents across random variables</li><li>query if entry is missing without needing to construct the  distribution entry: <code>ismissing(dv,i)</code>: </li></ul><p>Specific implementations,  need to implement at minimum methods <code>length</code> and <code>getindex</code>, and <code>params</code>.</p><p>There are two standard implementations:</p><ul><li><a href="#DistributionVectors.SimpleDistributionVector"><code>SimpleDistributionVector</code></a>: fast indexing but slower <code>params</code> method </li><li><a href="#DistributionVectors.ParamDistributionVector"><code>ParamDistributionVector</code></a>: possible allocations in indexing but  faster <code>params</code></li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">import LinearAlgebra: I
dmn1 = MvNormal([0,0,0], 1 * I)
dmn2 = MvNormal([1,1,1], 2 * I)
dv = SimpleDistributionVector(dmn1, dmn2, missing, missing);
sample = rand(dv,2);
# 4 distr, each 2 samples of length 3
size(sample) == (3,2,4)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bgctw/DistributionVectors.jl/blob/d3cbd758c9df52b2863dcc8ca20d704e127799e1/src/distributionvector.jl#L66-L112">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DistributionVectors.SimpleDistributionVector" href="#DistributionVectors.SimpleDistributionVector"><code>DistributionVectors.SimpleDistributionVector</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SimpleDistributionVector{D &lt;: Distribution, V}</code></pre><p>Is an Vector-of-Distribution based implementation of  <a href="#DistributionVectors.AbstractDistributionVector"><code>AbstractDistributionVector</code></a>.</p><p>Vector of random var can be created by </p><ul><li>specifying the distributions as arguments.</li></ul><pre><code class="language-julia hljs">d1 = LogNormal(log(110), 0.25)
d2 = LogNormal(log(100), 0.15)
dv = SimpleDistributionVector(d1, d2, missing);
isequal(params(dv, Val(1)), [log(110), log(100), missing])</code></pre><ul><li>providing the Type of distribution and vectors of each parameter</li></ul><pre><code class="language-julia hljs">mu = [1.1,1.2,1.3]
sigma = [1.01, 1.02, missing]
dv = SimpleDistributionVector(LogNormal{eltype(mu)}, mu, sigma);
isequal(params(dv, Val(1)), [1.1,1.2,missing])</code></pre><p>Note that if one of the parameters is missing, then the entire entry of the distribution is marked missing.</p><p>Since Distributions are stored directly, indexing passes a reference. However, getting parameter vectors, required iterating all distributions,  and allocating a new vector.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bgctw/DistributionVectors.jl/blob/d3cbd758c9df52b2863dcc8ca20d704e127799e1/src/distributionvector.jl#L174-L206">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DistributionVectors.ParamDistributionVector" href="#DistributionVectors.ParamDistributionVector"><code>DistributionVectors.ParamDistributionVector</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ParamDistributionVector{D &lt;: Distribution, V}</code></pre><p>Is an Tuple of Vectors based implementation of  <a href="#DistributionVectors.AbstractDistributionVector"><code>AbstractDistributionVector</code></a>.</p><p>Vector of random var can be created by </p><ul><li>specifying the distributions as arguments with some overhead of converting the Distributions to vectors of each parameter</li></ul><pre><code class="language-julia hljs">d1 = LogNormal(log(110), 0.25)
d2 = LogNormal(log(100), 0.15)
dv = ParamDistributionVector(d1, d2, missing);
isequal(params(dv, Val(1)), [log(110), log(100), missing])</code></pre><ul><li>providing the Type of distribution and vectors of each parameter</li></ul><pre><code class="language-julia hljs">mu = [1.1,1.2,1.3]
sigma = [1.01, 1.02, missing]
dv = ParamDistributionVector(LogNormal{eltype(mu)}, mu, sigma);
ismissing(dv[3])
isequal(params(dv, Val(1)), [1.1,1.2,1.3]) # third still not missing here</code></pre><p>Note that if one of the parameters for entry <code>i</code> is missing, then <code>dv[i]</code> is missing.</p><p>Since distributions are stored by parameter vectors, the acces to these vectors is just passing a reference. Indexing, will create Distribution types.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bgctw/DistributionVectors.jl/blob/d3cbd758c9df52b2863dcc8ca20d704e127799e1/src/distributionvector.jl#L294-L328">source</a></section></article><h2 id="Helpers"><a class="docs-heading-anchor" href="#Helpers">Helpers</a><a id="Helpers-1"></a><a class="docs-heading-anchor-permalink" href="#Helpers" title="Permalink"></a></h2><p>The conversion between a missing-allowed vector of parameter tuples  to a tuple of vectors for each parameter  (as used by <a href="#DistributionVectors.ParamDistributionVector"><code>ParamDistributionVector</code></a>) is provided in a type-stable manner by function <code>vectuptotupvec</code>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DistributionVectors.vectuptotupvec" href="#DistributionVectors.vectuptotupvec"><code>DistributionVectors.vectuptotupvec</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">vectuptotupvec(vectup)</code></pre><p>Typesafe convert from Vector of Tuples to Tuple of Vectors.</p><p><strong>Arguments</strong></p><ul><li><code>vectup</code>: A Vector of identical Tuples </li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">vectup = [(1,1.01, &quot;string 1&quot;), (2,2.02, &quot;string 2&quot;)] 
vectuptotupvec(vectup) == ([1, 2], [1.01, 2.02], [&quot;string 1&quot;, &quot;string 2&quot;])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bgctw/DistributionVectors.jl/blob/d3cbd758c9df52b2863dcc8ca20d704e127799e1/src/distributionvector.jl#L13-L28">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../sumdist/">Aggregation »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Wednesday 27 December 2023 12:02">Wednesday 27 December 2023</span>. Using Julia version 1.10.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
